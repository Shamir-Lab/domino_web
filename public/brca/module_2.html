<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <meta charset="utf-8">
  <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="theme-color" content="#000000">
  <!--
      manifest.json provides metadata used when your web app is added to the
      homescreen on Android. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json">
  <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
  <title>React App</title>


  <!-- JQuery -->
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>

  <!-- cytoscape.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.2.17/cytoscape.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cytoscape-euler@1.2.1/cytoscape-euler.min.js"></script>

<script>
let generateTable = () => {
	let ctable = [];
  if (ctable.length==0) return;
  let properties= ["GO id", "GO name", "pval", "qval"]//Object.getOwnPropertyNames(ctable[0])
  let table = "<table class='table'> <thead>"
  table += "<tr>"
  for (let j = 0; j < properties.length; j++) {
  table += "<th scope='col'>" + properties[j] + "</th>"
}
  table += "</tr> </thead> <tbody>"
  for (let i = 1; i < ctable.length; i++) {
  table += "<tr>"
  for (let j = 0; j < properties.length; j++) {
    table += "<td>" + ctable[i][properties[j]] + "</td>"
  }
  table += "</tr>"
}
  table += "</tbody></table>"
  document.getElementById("hg_report").innerHTML = table;
  document.getElementById("hg_total_number").innerHTML = "<h3>Total number of enriched groups: " + (ctable.slice(1).filter(cur => cur[5] <= 0.05).length) + "</h3>";
}
  </script>

 <script>
 let generateEnrichedModulesReport = () => {
 let content = [];
 if (content.length==0) return;
 let table = "<table class='table'> <thead>"
 table += "<tr>"
      for (let j = 0; j < content[0].length; j++) {
        table += "<th scope='col'>" + content[0][j].split("_").join(" ").replace(/\b\w/g, l => l.toUpperCase()) + "</th>"
      }
      table += "</tr> </thead> <tbody>"
      for (let i = 1; i < content.length; i++) {
        table += "<tr>"
        for (let j = 0; j < content[0].length; j++) {
	  let cellContent = content[i][j];
          if (j==content[0].indexOf("more_details")){
	  	cellContent = "<a href='"+content[i][j]+"'>More...</a>"
          }
          table += "<td><h4>" + cellContent + "</h4></td>"
        }
        table += "</tr>"
      }
      table += "</tbody></table>"
      if (content.length > 0) {
        document.getElementById("num_of_enriched_terms_title").innerHTML = "<h3>Total number of enriched terms per module: </h3>";
        document.getElementById("num_of_enriched_terms").innerHTML = table;
      }

    }
  </script>

 <script>
 let generateDiseaseReport = () => {
 let content = [];
 if (content.length==0) return;
 let table = "<table class='table'> <thead>"
 table += "<tr>"
      for (let j = 0; j < content[0].length; j++) {
        table += "<th scope='col'>" + content[0][j] + "</th>"
      }
      table += "</tr> </thead> <tbody>"
      for (let i = 1; i < content.length; i++) {
        table += "<tr>"
        for (let j = 0; j < content[0].length; j++) {
	  let cellContent = content[i][j];
          if (j==content[0].indexOf("More Details")){
	  	cellContent = "<a href='"+content[i][j]+"'>More...</a>"
          }
          table += "<td><h4>" + cellContent + "</h4></td>"
        }
        table += "</tr>"
      }
      table += "</tbody></table>"
      if (content.length > 0) {
        document.getElementById("disease_title").innerHTML = "<h3>Disease Statistics: </h3>";
        document.getElementById("disease_content").innerHTML = table;
      }

    }
  let showActiveGenes = () => {
  window.cy.nodes().map(cur => cur.data("label", cur.data("gene_symbol")))
}
  </script>

      <script>

      function rainbow(max, h, s, l) {
    if (Array.isArray(h)) {
      if (h.length > 1) {
        return [10, 10, 10];
      }
      h = h[0];
    }

    h = h / max;

    var r, g, b;

    if (s == 0) {
      r = g = b = l; // achromatic
    } else {
      var hue2rgb = function hue2rgb(p, q, t) {
        if (t < 0) t += 1;
        if (t > 1) t -= 1;
        if (t < 1 / 6) return p + (q - p) * 6 * t;
        if (t < 1 / 2) return q;
        if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
        return p;
      };

      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
      var p = 2 * l - q;
      r = hue2rgb(p, q, h + 1 / 3);
      g = hue2rgb(p, q, h);
      b = hue2rgb(p, q, h - 1 / 3);
    }

    return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];
  }

         function bwr(max, h, s, l) {
        if (Array.isArray(h)) {
          if (h.length > 1) {
            return [10, 10, 10];
          }
          h = h[0];
        }
        if (h == undefined) {
          return [10, 10, 10];
        }

        h = h / max;
        console.log(h + " " + max);

        var r, g, b;

        if (s == 0) {
          r = g = b = l; // achromatic
        } else {
          if (h > 0.5) {
            r = 1;
            g = 1 - Math.abs(h - 0.5) / 0.5;
            b = 1 - Math.abs(h - 0.5) / 0.5;
          } else {
            r = h / 0.5;
            g = h / 0.5;
            b = 1;
          }
        }

        return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];
      }

      function load_network(elements) {
        let div_id = "cytoscapeweb";
        let cy = cytoscape({
          container: document.getElementById(div_id),
          elements: elements,
          style: [
            // the stylesheet for the graph
            {
              selector: "node",
              style: {
                label: "data(label)",
                "background-color": function(x) {
                  return x.data().node_color != undefined
                    ? x.data().node_color
                    : "#666";
                },
                "border-color": function(x) {
                  return x.data().line_color != undefined
                    ? x.data().line_color
                    : "#666";
                },
                "border-width": "7px"
              }
            },
            {
              selector: "edge",
              style: {
                // 'z-compound-depth': function (ele) { return ele.data()['label'] == undefined ? 'bottom' : 'top'; },

                "z-index": function(ele) {
                  console.log(
                    ele.data()["label"] == undefined ? "bottom" : "top"
                  );
                  return ele.data()["label"] == undefined ? 0 : 1;
                }
              }
            }
          ],
          layout: {
            name: "euler",
            randomize: true,
            animate: false,
            springCoeff: edge => 0.00008,
            fit: true
          }
        });
        cy.on("select", function(event) {
          if (event.target.isEdge()) return;
          print(
            event.target.data().eid,
            !!event.target.data().gene_symbol
              ? event.target.data().gene_symbol
              : "",
            !!event.target.data().modules ? event.target.data().modules : ""
          );
          event.target.data(
            "label",
            !!event.target.data().gene_symbol
              ? event.target.data().gene_symbol
              : event.target.data().eid
          );
          console.log(event);
        });

        cy.on("unselect", function(event) {
          if (event.target.isEdge()) return;
          clear();
          event.target.data("label", "");
          selectedIds = event.cy
            .$(":selected")
            .jsons()
            .map(cur => cur.data);
          for (var i = 0; i < selectedIds.length; i++) {
            print(
              selectedIds[i].eid,
              selectedIds[i].gene_symbol,
              selectedIds[i].modules
            );
          }

          console.log(event);
        });

        clear();
        selectedIds = cy
          .$(":selected")
          .jsons()
          .filter(cur => !!!cur.data["source"]);
        for (var i = 0; i < selectedIds.length; i++) {
          print(
            selectedIds[i].data.eid,
            !!selectedIds[i].data.gene_symbol
              ? selectedIds[i].data.gene_symbol
              : "",
            !!selectedIds[i].data.modules ? selectedIds[i].data.modules : ""
          );
        }

        return cy;
      }
      function clear() {
        document.getElementById("note").innerHTML = "";
      }

      function print(id, name, modules) {
        document.getElementById("note").innerHTML +=
          "<tr><td>" +
          id +
          "</td><td>" +
          name +
          "</td><td>" +
          modules.join(", ") +
          "</td></tr>";
      }

      window.onload = () => {
      let data = [{"data": {"id": "ENSG00000153904", "eid": "ENSG00000153904", "modules": [0], "gene_symbol": "DDAH1", "score": 0.0}, "label": "ENSG00000153904", "selected": true}, {"data": {"id": "ENSG00000154153", "eid": "ENSG00000154153", "modules": [0], "gene_symbol": "FAM134B", "score": 0.0}, "label": "ENSG00000154153", "selected": true}, {"data": {"id": "ENSG00000102981", "eid": "ENSG00000102981", "modules": [0], "gene_symbol": "PARD6A", "score": 0.0}, "label": "ENSG00000102981", "selected": true}, {"data": {"id": "ENSG00000197386", "eid": "ENSG00000197386", "modules": [0], "gene_symbol": "HTT", "score": 0.0}, "label": "ENSG00000197386", "selected": true}, {"data": {"id": "ENSG00000152104", "eid": "ENSG00000152104", "modules": [0], "gene_symbol": "PTPN14", "score": 0.0}, "label": "ENSG00000152104", "selected": true}, {"data": {"id": "ENSG00000137693", "eid": "ENSG00000137693", "modules": [0], "gene_symbol": "YAP1", "score": 0.0}, "label": "ENSG00000137693", "selected": true}, {"data": {"id": "ENSG00000131711", "eid": "ENSG00000131711", "modules": [0], "gene_symbol": "MAP1B", "score": 0.0}, "label": "ENSG00000131711", "selected": true}, {"data": {"id": "ENSG00000140941", "eid": "ENSG00000140941", "modules": [0], "gene_symbol": "MAP1LC3B", "score": 0.0}, "label": "ENSG00000140941", "selected": true}, {"data": {"id": "ENSG00000107560", "eid": "ENSG00000107560", "modules": [0], "gene_symbol": "RAB11FIP2", "score": 0.0}, "label": "ENSG00000107560", "selected": true}, {"data": {"id": "ENSG00000103769", "eid": "ENSG00000103769", "modules": [0], "gene_symbol": "RAB11A", "score": 0.0}, "label": "ENSG00000103769", "selected": true}, {"data": {"id": "ENSG00000004059", "eid": "ENSG00000004059", "modules": [0], "gene_symbol": "ARF5", "score": 0.0}, "label": "ENSG00000004059", "selected": true}, {"data": {"id": "ENSG00000131242", "eid": "ENSG00000131242", "modules": [0], "gene_symbol": "RAB11FIP4", "score": 0.0}, "label": "ENSG00000131242", "selected": true}, {"data": {"id": "ENSG00000166025", "eid": "ENSG00000166025", "modules": [0], "gene_symbol": "AMOTL1", "score": 0.0}, "label": "ENSG00000166025", "selected": true}, {"data": {"id": "ENSG00000182923", "eid": "ENSG00000182923", "modules": [0], "gene_symbol": "CEP63", "score": 0.0}, "label": "ENSG00000182923", "selected": true}, {"data": {"id": "ENSG00000114416", "eid": "ENSG00000114416", "modules": [0], "gene_symbol": "FXR1", "score": 0.0}, "label": "ENSG00000114416", "selected": true}, {"data": {"id": "ENSG00000198400", "eid": "ENSG00000198400", "modules": [0], "gene_symbol": "NTRK1", "score": 0.0}, "label": "ENSG00000198400", "selected": true}, {"data": {"id": "ENSG00000177169", "eid": "ENSG00000177169", "modules": [0], "gene_symbol": "ULK1", "score": 0.0}, "label": "ENSG00000177169", "selected": true}, {"data": {"id": "ENSG00000189091", "eid": "ENSG00000189091", "modules": [0], "gene_symbol": "SF3B3", "score": 0.0}, "label": "ENSG00000189091", "selected": true}, {"data": {"id": "ENSG00000240682", "eid": "ENSG00000240682", "modules": [0], "gene_symbol": "ISY1", "score": 0.0}, "label": "ENSG00000240682", "selected": true}, {"data": {"id": "ENSG00000074219", "eid": "ENSG00000074219", "modules": [0], "gene_symbol": "TEAD2", "score": 0.0}, "label": "ENSG00000074219", "selected": true}, {"data": {"id": "ENSG00000125447", "eid": "ENSG00000125447", "modules": [0], "gene_symbol": "GGA3", "score": 0.0}, "label": "ENSG00000125447", "selected": true}, {"data": {"id": "ENSG00000165527", "eid": "ENSG00000165527", "modules": [0], "gene_symbol": "ARF6", "score": 0.0}, "label": "ENSG00000165527", "selected": true}, {"data": {"id": "ENSG00000114019", "eid": "ENSG00000114019", "modules": [0], "gene_symbol": "AMOTL2", "score": 0.0}, "label": "ENSG00000114019", "selected": true}, {"data": {"id": "ENSG00000155511", "eid": "ENSG00000155511", "modules": [0], "gene_symbol": "GRIA1", "score": 0.0}, "label": "ENSG00000155511", "selected": true}, {"data": {"id": "ENSG00000172531", "eid": "ENSG00000172531", "modules": [0], "gene_symbol": "PPP1CA", "score": 0.0}, "label": "ENSG00000172531", "selected": true}, {"data": {"id": "ENSG00000197102", "eid": "ENSG00000197102", "modules": [0], "gene_symbol": "DYNC1H1", "score": 0.0}, "label": "ENSG00000197102", "selected": true}, {"data": {"id": "ENSG00000128245", "eid": "ENSG00000128245", "modules": [0], "gene_symbol": "YWHAH", "score": 0.0}, "label": "ENSG00000128245", "selected": true}, {"data": {"id": "ENSG00000131876", "eid": "ENSG00000131876", "modules": [0], "gene_symbol": "SNRPA1", "score": 0.0}, "label": "ENSG00000131876", "selected": true}, {"data": {"id": "ENSG00000076924", "eid": "ENSG00000076924", "modules": [0], "gene_symbol": "XAB2", "score": 0.0}, "label": "ENSG00000076924", "selected": true}, {"data": {"id": "ENSG00000198783", "eid": "ENSG00000198783", "modules": [0], "gene_symbol": "ZNF830", "score": 0.0}, "label": "ENSG00000198783", "selected": true}, {"data": {"id": "ENSG00000021776", "eid": "ENSG00000021776", "modules": [0], "gene_symbol": "AQR", "score": 0.0}, "label": "ENSG00000021776", "selected": true}, {"data": {"id": "ENSG00000124813", "eid": "ENSG00000124813", "modules": [0], "gene_symbol": "RUNX2", "score": 0.0}, "label": "ENSG00000124813", "selected": true}, {"data": {"id": "ENSG00000084073", "eid": "ENSG00000084073", "modules": [0], "gene_symbol": "ZMPSTE24", "score": 0.0}, "label": "ENSG00000084073", "selected": true}, {"data": {"id": "ENSG00000160789", "eid": "ENSG00000160789", "modules": [0], "gene_symbol": "LMNA", "score": 0.0}, "label": "ENSG00000160789", "selected": true}, {"data": {"id": "ENSG00000083535", "eid": "ENSG00000083535", "modules": [0], "gene_symbol": "PIBF1", "score": 0.0}, "label": "ENSG00000083535", "selected": true}, {"data": {"id": "ENSG00000078674", "eid": "ENSG00000078674", "modules": [0], "gene_symbol": "PCM1", "score": 0.0}, "label": "ENSG00000078674", "selected": true}, {"data": {"id": "ENSG00000141699", "eid": "ENSG00000141699", "modules": [0], "gene_symbol": "FAM134C", "score": 0.0}, "label": "ENSG00000141699", "selected": true}, {"data": {"id": "ENSG00000170296", "eid": "ENSG00000170296", "modules": [0], "gene_symbol": "GABARAP", "score": 0.0}, "label": "ENSG00000170296", "selected": true}, {"data": {"id": "ENSG00000213639", "eid": "ENSG00000213639", "modules": [0], "gene_symbol": "PPP1CB", "score": 0.0}, "label": "ENSG00000213639", "selected": true}, {"data": {"id": "ENSG00000078304", "eid": "ENSG00000078304", "modules": [0], "gene_symbol": "PPP2R5C", "score": 0.0}, "label": "ENSG00000078304", "selected": true}, {"data": {"id": "ENSG00000172482", "eid": "ENSG00000172482", "modules": [0], "gene_symbol": "AGXT", "score": 0.0}, "label": "ENSG00000172482", "selected": true}, {"data": {"id": "ENSG00000139197", "eid": "ENSG00000139197", "modules": [0], "gene_symbol": "PEX5", "score": 0.0}, "label": "ENSG00000139197", "selected": true}, {"data": {"id": "ENSG00000101335", "eid": "ENSG00000101335", "modules": [0], "gene_symbol": "MYL9", "score": 0.0}, "label": "ENSG00000101335", "selected": true}, {"data": {"id": "ENSG00000132356", "eid": "ENSG00000132356", "modules": [0], "gene_symbol": "PRKAA1", "score": 0.0}, "label": "ENSG00000132356", "selected": true}, {"data": {"id": "ENSG00000184203", "eid": "ENSG00000184203", "modules": [0], "gene_symbol": "PPP1R2", "score": 0.0}, "label": "ENSG00000184203", "selected": true}, {"data": {"id": "ENSG00000108312", "eid": "ENSG00000108312", "modules": [0], "gene_symbol": "UBTF", "score": 0.0}, "label": "ENSG00000108312", "selected": true}, {"data": {"id": "ENSG00000196781", "eid": "ENSG00000196781", "modules": [0], "gene_symbol": "TLE1", "score": 0.0}, "label": "ENSG00000196781", "selected": true}, {"data": {"id": "ENSG00000150457", "eid": "ENSG00000150457", "modules": [0], "gene_symbol": "LATS2", "score": 0.0}, "label": "ENSG00000150457", "selected": true}, {"data": {"id": "ENSG00000115128", "eid": "ENSG00000115128", "modules": [0], "gene_symbol": "SF3B6", "score": 0.0}, "label": "ENSG00000115128", "selected": true}, {"data": {"id": "ENSG00000115524", "eid": "ENSG00000115524", "modules": [0], "gene_symbol": "SF3B1", "score": 0.0}, "label": "ENSG00000115524", "selected": true}, {"data": {"id": "ENSG00000163820", "eid": "ENSG00000163820", "modules": [0], "gene_symbol": "FYCO1", "score": 0.0}, "label": "ENSG00000163820", "selected": true}, {"data": {"id": "ENSG00000170759", "eid": "ENSG00000170759", "modules": [0], "gene_symbol": "KIF5B", "score": 0.0}, "label": "ENSG00000170759", "selected": true}, {"data": {"id": "ENSG00000181788", "eid": "ENSG00000181788", "modules": [0], "gene_symbol": "SIAH2", "score": 0.0}, "label": "ENSG00000181788", "selected": true}, {"data": {"id": "ENSG00000197444", "eid": "ENSG00000197444", "modules": [0], "gene_symbol": "OGDHL", "score": 0.0}, "label": "ENSG00000197444", "selected": true}, {"data": {"id": "ENSG00000007866", "eid": "ENSG00000007866", "modules": [0], "gene_symbol": "TEAD3", "score": 0.0}, "label": "ENSG00000007866", "selected": true}, {"data": {"id": "ENSG00000141577", "eid": "ENSG00000141577", "modules": [0], "gene_symbol": "CEP131", "score": 0.0}, "label": "ENSG00000141577", "selected": true}, {"data": {"id": "ENSG00000130294", "eid": "ENSG00000130294", "modules": [0], "gene_symbol": "KIF1A", "score": 0.0}, "label": "ENSG00000130294", "selected": true}, {"data": {"id": "ENSG00000104897", "eid": "ENSG00000104897", "modules": [0], "gene_symbol": "SF3A2", "score": 0.0}, "label": "ENSG00000104897", "selected": true}, {"data": {"id": "ENSG00000084072", "eid": "ENSG00000084072", "modules": [0], "gene_symbol": "PPIE", "score": 0.0}, "label": "ENSG00000084072", "selected": true}, {"data": {"id": "ENSG00000101460", "eid": "ENSG00000101460", "modules": [0], "gene_symbol": "MAP1LC3A", "score": 0.0}, "label": "ENSG00000101460", "selected": true}, {"data": {"id": "ENSG00000113368", "eid": "ENSG00000113368", "modules": [0], "gene_symbol": "LMNB1", "score": 0.0}, "label": "ENSG00000113368", "selected": true}, {"data": {"id": "ENSG00000143393", "eid": "ENSG00000143393", "modules": [0], "gene_symbol": "PI4KB", "score": 0.0}, "label": "ENSG00000143393", "selected": true}, {"data": {"id": "ENSG00000275338", "eid": "ENSG00000275338", "modules": [0], "gene_symbol": "ENSG00000275338", "score": 0.0}, "label": "ENSG00000275338", "selected": true}, {"data": {"id": "ENSG00000161011", "eid": "ENSG00000161011", "modules": [0], "gene_symbol": "SQSTM1", "score": 0.0}, "label": "ENSG00000161011", "selected": true}, {"data": {"id": "ENSG00000185236", "eid": "ENSG00000185236", "modules": [0], "gene_symbol": "RAB11B", "score": 0.0}, "label": "ENSG00000185236", "selected": true}, {"data": {"id": "ENSG00000067208", "eid": "ENSG00000067208", "modules": [0], "gene_symbol": "EVI5", "score": 0.0}, "label": "ENSG00000067208", "selected": true}, {"data": {"id": "ENSG00000175224", "eid": "ENSG00000175224", "modules": [0], "gene_symbol": "ATG13", "score": 0.0}, "label": "ENSG00000175224", "selected": true}, {"data": {"id": "ENSG00000110497", "eid": "ENSG00000110497", "modules": [0], "gene_symbol": "AMBRA1", "score": 0.0}, "label": "ENSG00000110497", "selected": true}, {"data": {"id": "ENSG00000126460", "eid": "ENSG00000126460", "modules": [0], "gene_symbol": "PRRG2", "score": 0.0}, "label": "ENSG00000126460", "selected": true}, {"data": {"id": "ENSG00000174996", "eid": "ENSG00000174996", "modules": [0], "gene_symbol": "KLC2", "score": 0.0}, "label": "ENSG00000174996", "selected": true}, {"data": {"id": "ENSG00000221944", "eid": "ENSG00000221944", "modules": [0], "gene_symbol": "TIGD1", "score": 0.0}, "label": "ENSG00000221944", "selected": true}, {"data": {"id": "ENSG00000176619", "eid": "ENSG00000176619", "modules": [0], "gene_symbol": "LMNB2", "score": 0.0}, "label": "ENSG00000176619", "selected": true}, {"data": {"id": "ENSG00000183431", "eid": "ENSG00000183431", "modules": [0], "gene_symbol": "SF3A3", "score": 0.0}, "label": "ENSG00000183431", "selected": true}, {"data": {"id": "ENSG00000099995", "eid": "ENSG00000099995", "modules": [0], "gene_symbol": "SF3A1", "score": 0.0}, "label": "ENSG00000099995", "selected": true}, {"data": {"id": "ENSG00000144567", "eid": "ENSG00000144567", "modules": [0], "gene_symbol": "FAM134A", "score": 0.0}, "label": "ENSG00000144567", "selected": true}, {"data": {"id": "ENSG00000217128", "eid": "ENSG00000217128", "modules": [0], "gene_symbol": "FNIP1", "score": 0.0}, "label": "ENSG00000217128", "selected": true}, {"data": {"id": "ENSG00000154803", "eid": "ENSG00000154803", "modules": [0], "gene_symbol": "FLCN", "score": 0.0}, "label": "ENSG00000154803", "selected": true}, {"data": {"id": "ENSG00000034713", "eid": "ENSG00000034713", "modules": [0], "gene_symbol": "GABARAPL2", "score": 0.0}, "label": "ENSG00000034713", "selected": true}, {"data": {"id": "ENSG00000023287", "eid": "ENSG00000023287", "modules": [0], "gene_symbol": "RB1CC1", "score": 0.0}, "label": "ENSG00000023287", "selected": true}, {"data": {"id": "ENSG00000132471", "eid": "ENSG00000132471", "modules": [0], "gene_symbol": "WBP2", "score": 0.0}, "label": "ENSG00000132471", "selected": true}, {"data": {"id": "ENSG00000125398", "eid": "ENSG00000125398", "modules": [0], "gene_symbol": "SOX9", "score": 0.0}, "label": "ENSG00000125398", "selected": true}, {"data": {"id": "ENSG00000197769", "eid": "ENSG00000197769", "modules": [0], "gene_symbol": "MAP1LC3C", "score": 0.0}, "label": "ENSG00000197769", "selected": true}, {"data": {"id": "ENSG00000105953", "eid": "ENSG00000105953", "modules": [0], "gene_symbol": "OGDH", "score": 0.0}, "label": "ENSG00000105953", "selected": true}, {"data": {"id": "ENSG00000184828", "eid": "ENSG00000184828", "modules": [0], "gene_symbol": "ZBTB7C", "score": 0.0}, "label": "ENSG00000184828", "selected": true}, {"data": {"id": "ENSG00000205476", "eid": "ENSG00000205476", "modules": [0], "gene_symbol": "CCDC85C", "score": 0.0}, "label": "ENSG00000205476", "selected": true}, {"data": {"id": "ENSG00000154447", "eid": "ENSG00000154447", "modules": [0], "gene_symbol": "SH3RF1", "score": 0.0}, "label": "ENSG00000154447", "selected": true}, {"data": {"id": "ENSG00000096401", "eid": "ENSG00000096401", "modules": [0], "gene_symbol": "CDC5L", "score": 0.0}, "label": "ENSG00000096401", "selected": true}, {"data": {"id": "ENSG00000175455", "eid": "ENSG00000175455", "modules": [0], "gene_symbol": "CCDC14", "score": 0.0}, "label": "ENSG00000175455", "selected": true}, {"data": {"id": "ENSG00000117751", "eid": "ENSG00000117751", "modules": [0], "gene_symbol": "PPP1R8", "score": 0.0}, "label": "ENSG00000117751", "selected": true}, {"data": {"id": "ENSG00000161970", "eid": "ENSG00000161970", "modules": [0], "gene_symbol": "RPL26", "score": 0.0}, "label": "ENSG00000161970", "selected": true}, {"data": {"id": "ENSG00000156515", "eid": "ENSG00000156515", "modules": [0], "gene_symbol": "HK1", "score": 0.0}, "label": "ENSG00000156515", "selected": true}, {"data": {"id": "ENSG00000198920", "eid": "ENSG00000198920", "modules": [0], "gene_symbol": "KIAA0753", "score": 0.0}, "label": "ENSG00000198920", "selected": true}, {"data": {"id": "ENSG00000181929", "eid": "ENSG00000181929", "modules": [0], "gene_symbol": "PRKAG1", "score": 0.0}, "label": "ENSG00000181929", "selected": true}, {"data": {"id": "ENSG00000153904_ENSG00000154153", "source": "ENSG00000153904", "target": "ENSG00000154153"}, "label": "-"}, {"data": {"id": "ENSG00000154153_ENSG00000130294", "source": "ENSG00000154153", "target": "ENSG00000130294"}, "label": "-"}, {"data": {"id": "ENSG00000154153_ENSG00000221944", "source": "ENSG00000154153", "target": "ENSG00000221944"}, "label": "-"}, {"data": {"id": "ENSG00000154153_ENSG00000034713", "source": "ENSG00000154153", "target": "ENSG00000034713"}, "label": "-"}, {"data": {"id": "ENSG00000154153_ENSG00000184828", "source": "ENSG00000154153", "target": "ENSG00000184828"}, "label": "-"}, {"data": {"id": "ENSG00000154153_ENSG00000161970", "source": "ENSG00000154153", "target": "ENSG00000161970"}, "label": "-"}, {"data": {"id": "ENSG00000154153_ENSG00000156515", "source": "ENSG00000154153", "target": "ENSG00000156515"}, "label": "-"}, {"data": {"id": "ENSG00000154153_ENSG00000103769", "source": "ENSG00000154153", "target": "ENSG00000103769"}, "label": "-"}, {"data": {"id": "ENSG00000154153_ENSG00000170296", "source": "ENSG00000154153", "target": "ENSG00000170296"}, "label": "-"}, {"data": {"id": "ENSG00000102981_ENSG00000197386", "source": "ENSG00000102981", "target": "ENSG00000197386"}, "label": "-"}, {"data": {"id": "ENSG00000197386_ENSG00000197102", "source": "ENSG00000197386", "target": "ENSG00000197102"}, "label": "-"}, {"data": {"id": "ENSG00000197386_ENSG00000103769", "source": "ENSG00000197386", "target": "ENSG00000103769"}, "label": "-"}, {"data": {"id": "ENSG00000152104_ENSG00000137693", "source": "ENSG00000152104", "target": "ENSG00000137693"}, "label": "-"}, {"data": {"id": "ENSG00000137693_ENSG00000166025", "source": "ENSG00000137693", "target": "ENSG00000166025"}, "label": "-"}, {"data": {"id": "ENSG00000137693_ENSG00000074219", "source": "ENSG00000137693", "target": "ENSG00000074219"}, "label": "-"}, {"data": {"id": "ENSG00000137693_ENSG00000114019", "source": "ENSG00000137693", "target": "ENSG00000114019"}, "label": "-"}, {"data": {"id": "ENSG00000137693_ENSG00000128245", "source": "ENSG00000137693", "target": "ENSG00000128245"}, "label": "-"}, {"data": {"id": "ENSG00000137693_ENSG00000124813", "source": "ENSG00000137693", "target": "ENSG00000124813"}, "label": "-"}, {"data": {"id": "ENSG00000137693_ENSG00000150457", "source": "ENSG00000137693", "target": "ENSG00000150457"}, "label": "-"}, {"data": {"id": "ENSG00000137693_ENSG00000007866", "source": "ENSG00000137693", "target": "ENSG00000007866"}, "label": "-"}, {"data": {"id": "ENSG00000137693_ENSG00000126460", "source": "ENSG00000137693", "target": "ENSG00000126460"}, "label": "-"}, {"data": {"id": "ENSG00000137693_ENSG00000132471", "source": "ENSG00000137693", "target": "ENSG00000132471"}, "label": "-"}, {"data": {"id": "ENSG00000137693_ENSG00000205476", "source": "ENSG00000137693", "target": "ENSG00000205476"}, "label": "-"}, {"data": {"id": "ENSG00000137693_ENSG00000181929", "source": "ENSG00000137693", "target": "ENSG00000181929"}, "label": "-"}, {"data": {"id": "ENSG00000137693_ENSG00000172531", "source": "ENSG00000137693", "target": "ENSG00000172531"}, "label": "-"}, {"data": {"id": "ENSG00000137693_ENSG00000132356", "source": "ENSG00000137693", "target": "ENSG00000132356"}, "label": "-"}, {"data": {"id": "ENSG00000131711_ENSG00000140941", "source": "ENSG00000131711", "target": "ENSG00000140941"}, "label": "-"}, {"data": {"id": "ENSG00000140941_ENSG00000113368", "source": "ENSG00000140941", "target": "ENSG00000113368"}, "label": "-"}, {"data": {"id": "ENSG00000140941_ENSG00000163820", "source": "ENSG00000140941", "target": "ENSG00000163820"}, "label": "-"}, {"data": {"id": "ENSG00000140941_ENSG00000141577", "source": "ENSG00000140941", "target": "ENSG00000141577"}, "label": "-"}, {"data": {"id": "ENSG00000107560_ENSG00000103769", "source": "ENSG00000107560", "target": "ENSG00000103769"}, "label": "-"}, {"data": {"id": "ENSG00000103769_ENSG00000131242", "source": "ENSG00000103769", "target": "ENSG00000131242"}, "label": "-"}, {"data": {"id": "ENSG00000103769_ENSG00000275338", "source": "ENSG00000103769", "target": "ENSG00000275338"}, "label": "-"}, {"data": {"id": "ENSG00000103769_ENSG00000067208", "source": "ENSG00000103769", "target": "ENSG00000067208"}, "label": "-"}, {"data": {"id": "ENSG00000004059_ENSG00000131242", "source": "ENSG00000004059", "target": "ENSG00000131242"}, "label": "-"}, {"data": {"id": "ENSG00000131242_ENSG00000165527", "source": "ENSG00000131242", "target": "ENSG00000165527"}, "label": "-"}, {"data": {"id": "ENSG00000182923_ENSG00000114416", "source": "ENSG00000182923", "target": "ENSG00000114416"}, "label": "-"}, {"data": {"id": "ENSG00000182923_ENSG00000083535", "source": "ENSG00000182923", "target": "ENSG00000083535"}, "label": "-"}, {"data": {"id": "ENSG00000198400_ENSG00000177169", "source": "ENSG00000198400", "target": "ENSG00000177169"}, "label": "-"}, {"data": {"id": "ENSG00000177169_ENSG00000023287", "source": "ENSG00000177169", "target": "ENSG00000023287"}, "label": "-"}, {"data": {"id": "ENSG00000177169_ENSG00000197769", "source": "ENSG00000177169", "target": "ENSG00000197769"}, "label": "-"}, {"data": {"id": "ENSG00000177169_ENSG00000132356", "source": "ENSG00000177169", "target": "ENSG00000132356"}, "label": "-"}, {"data": {"id": "ENSG00000177169_ENSG00000161011", "source": "ENSG00000177169", "target": "ENSG00000161011"}, "label": "-"}, {"data": {"id": "ENSG00000177169_ENSG00000110497", "source": "ENSG00000177169", "target": "ENSG00000110497"}, "label": "-"}, {"data": {"id": "ENSG00000189091_ENSG00000240682", "source": "ENSG00000189091", "target": "ENSG00000240682"}, "label": "-"}, {"data": {"id": "ENSG00000240682_ENSG00000021776", "source": "ENSG00000240682", "target": "ENSG00000021776"}, "label": "-"}, {"data": {"id": "ENSG00000125447_ENSG00000165527", "source": "ENSG00000125447", "target": "ENSG00000165527"}, "label": "-"}, {"data": {"id": "ENSG00000155511_ENSG00000172531", "source": "ENSG00000155511", "target": "ENSG00000172531"}, "label": "-"}, {"data": {"id": "ENSG00000172531_ENSG00000184203", "source": "ENSG00000172531", "target": "ENSG00000184203"}, "label": "-"}, {"data": {"id": "ENSG00000172531_ENSG00000096401", "source": "ENSG00000172531", "target": "ENSG00000096401"}, "label": "-"}, {"data": {"id": "ENSG00000172531_ENSG00000117751", "source": "ENSG00000172531", "target": "ENSG00000117751"}, "label": "-"}, {"data": {"id": "ENSG00000172531_ENSG00000078304", "source": "ENSG00000172531", "target": "ENSG00000078304"}, "label": "-"}, {"data": {"id": "ENSG00000172531_ENSG00000115524", "source": "ENSG00000172531", "target": "ENSG00000115524"}, "label": "-"}, {"data": {"id": "ENSG00000131876_ENSG00000076924", "source": "ENSG00000131876", "target": "ENSG00000076924"}, "label": "-"}, {"data": {"id": "ENSG00000131876_ENSG00000183431", "source": "ENSG00000131876", "target": "ENSG00000183431"}, "label": "-"}, {"data": {"id": "ENSG00000076924_ENSG00000021776", "source": "ENSG00000076924", "target": "ENSG00000021776"}, "label": "-"}, {"data": {"id": "ENSG00000198783_ENSG00000021776", "source": "ENSG00000198783", "target": "ENSG00000021776"}, "label": "-"}, {"data": {"id": "ENSG00000021776_ENSG00000115524", "source": "ENSG00000021776", "target": "ENSG00000115524"}, "label": "-"}, {"data": {"id": "ENSG00000124813_ENSG00000125398", "source": "ENSG00000124813", "target": "ENSG00000125398"}, "label": "-"}, {"data": {"id": "ENSG00000124813_ENSG00000196781", "source": "ENSG00000124813", "target": "ENSG00000196781"}, "label": "-"}, {"data": {"id": "ENSG00000084073_ENSG00000160789", "source": "ENSG00000084073", "target": "ENSG00000160789"}, "label": "-"}, {"data": {"id": "ENSG00000160789_ENSG00000113368", "source": "ENSG00000160789", "target": "ENSG00000113368"}, "label": "-"}, {"data": {"id": "ENSG00000083535_ENSG00000078674", "source": "ENSG00000083535", "target": "ENSG00000078674"}, "label": "-"}, {"data": {"id": "ENSG00000078674_ENSG00000141577", "source": "ENSG00000078674", "target": "ENSG00000141577"}, "label": "-"}, {"data": {"id": "ENSG00000078674_ENSG00000175455", "source": "ENSG00000078674", "target": "ENSG00000175455"}, "label": "-"}, {"data": {"id": "ENSG00000078674_ENSG00000198920", "source": "ENSG00000078674", "target": "ENSG00000198920"}, "label": "-"}, {"data": {"id": "ENSG00000078674_ENSG00000170296", "source": "ENSG00000078674", "target": "ENSG00000170296"}, "label": "-"}, {"data": {"id": "ENSG00000141699_ENSG00000170296", "source": "ENSG00000141699", "target": "ENSG00000170296"}, "label": "-"}, {"data": {"id": "ENSG00000170296_ENSG00000144567", "source": "ENSG00000170296", "target": "ENSG00000144567"}, "label": "-"}, {"data": {"id": "ENSG00000170296_ENSG00000161011", "source": "ENSG00000170296", "target": "ENSG00000161011"}, "label": "-"}, {"data": {"id": "ENSG00000213639_ENSG00000078304", "source": "ENSG00000213639", "target": "ENSG00000078304"}, "label": "-"}, {"data": {"id": "ENSG00000172482_ENSG00000139197", "source": "ENSG00000172482", "target": "ENSG00000139197"}, "label": "-"}, {"data": {"id": "ENSG00000139197_ENSG00000161011", "source": "ENSG00000139197", "target": "ENSG00000161011"}, "label": "-"}, {"data": {"id": "ENSG00000101335_ENSG00000132356", "source": "ENSG00000101335", "target": "ENSG00000132356"}, "label": "-"}, {"data": {"id": "ENSG00000108312_ENSG00000196781", "source": "ENSG00000108312", "target": "ENSG00000196781"}, "label": "-"}, {"data": {"id": "ENSG00000150457_ENSG00000181788", "source": "ENSG00000150457", "target": "ENSG00000181788"}, "label": "-"}, {"data": {"id": "ENSG00000115128_ENSG00000115524", "source": "ENSG00000115128", "target": "ENSG00000115524"}, "label": "-"}, {"data": {"id": "ENSG00000163820_ENSG00000170759", "source": "ENSG00000163820", "target": "ENSG00000170759"}, "label": "-"}, {"data": {"id": "ENSG00000163820_ENSG00000174996", "source": "ENSG00000163820", "target": "ENSG00000174996"}, "label": "-"}, {"data": {"id": "ENSG00000181788_ENSG00000197444", "source": "ENSG00000181788", "target": "ENSG00000197444"}, "label": "-"}, {"data": {"id": "ENSG00000181788_ENSG00000105953", "source": "ENSG00000181788", "target": "ENSG00000105953"}, "label": "-"}, {"data": {"id": "ENSG00000181788_ENSG00000154447", "source": "ENSG00000181788", "target": "ENSG00000154447"}, "label": "-"}, {"data": {"id": "ENSG00000104897_ENSG00000084072", "source": "ENSG00000104897", "target": "ENSG00000084072"}, "label": "-"}, {"data": {"id": "ENSG00000084072_ENSG00000099995", "source": "ENSG00000084072", "target": "ENSG00000099995"}, "label": "-"}, {"data": {"id": "ENSG00000101460_ENSG00000113368", "source": "ENSG00000101460", "target": "ENSG00000113368"}, "label": "-"}, {"data": {"id": "ENSG00000113368_ENSG00000176619", "source": "ENSG00000113368", "target": "ENSG00000176619"}, "label": "-"}, {"data": {"id": "ENSG00000143393_ENSG00000275338", "source": "ENSG00000143393", "target": "ENSG00000275338"}, "label": "-"}, {"data": {"id": "ENSG00000185236_ENSG00000067208", "source": "ENSG00000185236", "target": "ENSG00000067208"}, "label": "-"}, {"data": {"id": "ENSG00000175224_ENSG00000110497", "source": "ENSG00000175224", "target": "ENSG00000110497"}, "label": "-"}, {"data": {"id": "ENSG00000183431_ENSG00000099995", "source": "ENSG00000183431", "target": "ENSG00000099995"}, "label": "-"}, {"data": {"id": "ENSG00000217128_ENSG00000154803", "source": "ENSG00000217128", "target": "ENSG00000154803"}, "label": "-"}, {"data": {"id": "ENSG00000154803_ENSG00000181929", "source": "ENSG00000154803", "target": "ENSG00000181929"}, "label": "-"}];
      let max_score =
          Math.max(
            ...data.map(cur => {
              return cur["data"]["score"];
            }).filter(cur => !!cur)
          ) + 1;
        let max_module =
          Math.max(
            ...data.map(cur => {
                return !!cur["data"]["modules"] ? cur["data"]["modules"] : [];
              })
              .reduce((a, c) => a.concat(c), [])
          ) + 1;
      data = data.map(cur => {cur["label"] = !!cur["data"]["gene_symbol"] ? cur["data"]["gene_symbol"] : cur["data"]["eid"];
              cur["data"]["node_color"] = bwr(
                max_score,
                cur["data"]["score"],
                1,
                1
              );
              cur["data"]["line_color"] = rainbow(
                max_module,
                cur["data"]["modules"],
                0.75,
                0.75
              );
              return cur;})
      let cy1 = load_network(data)
      window.cy=cy1;
      generateTable()
      generateEnrichedModulesReport()
      generateDiseaseReport()
    };

  </script>




  <style>
    /* The Cytoscape Web container must have its dimensions set. */
    html,
    body {
      position: relative;
      height: 100% !important;
      width: 100% !important;
      padding: 0;
      margin: 0;
    }

    #cy1, #cy2 {
      width: 100% !important;
      height: 100% !important;
    }

    .image-wrapper {
      position: absolute;
      transform: translate(-50%, -50%);
      opacity: 1;
    }

    .image-wrapper.fade-out {
      opacity: 0;
      transition: opacity 1s ease-in-out;
    }
  </style>

</head>

<body>
  <noscript>
    You need to enable JavaScript to run this app.
  </noscript>
  <div class='container m-3' >
    <div class='row' style="width: 100vw">
      <div class='col-md-3'>
        <div class="row">
          <div id="root"></div>
        </div>
        <div class="row m-2">
          <table class="table">
                <thead>
                  <tr>
                    <th scope="col">id</th>
                    <th scope="col">name</th>
                    <th scope="col">modules</th>
                  </tr>
                </thead>
                <tbody div id="note"></tbody>
              </table>
	<button onclick="showActiveGenes()" class="btn btn-info"> show labels on genes</button>
        </div>
      </div>
      <div class='col-md-9'>
           <div id="cytoscapeweb" style="height: 70vh;width: 90vw">
        </div>
      </div>
    </div>
    <div class='row' style="height: 100vh;width: 100vw">
	<div class='col-md-12'>
		 <div><h3>Total numer of genes: 93</h3></div>
                 <div id="disease_title"></div>
		 <div class='row'>
			<div class='col-md-3'>
                 		<div id="disease_content"></div>
                 	</div>
		 </div>
		 <div id="num_of_enriched_terms_title"></div>
		 <div class='row'>
			<div class='col-md-3'>
                 		<div id="num_of_enriched_terms"></div>
                 	</div>
		 </div>
		 <div id="hg_total_number"></div>
		 <div id="hg_report"></div>
	</div>
    </div>
  </div>

  <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
</body>

</html>
